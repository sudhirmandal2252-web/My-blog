<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, viewport-fit=cover">
  <!--https://developer.apple.com/library/safari/documentation/AppleApplications/Reference/SafariHTMLRef/Articles/MetaTags.html-->
  <meta name="mobile-web-app-capable" content="yes"/>
  <meta name="apple-mobile-web-app-capable" content="yes"/>
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"/>
  <meta name="format-detection" content="telephone=no"/>
  <!-- force webkit on 360 -->
  <meta name="renderer" content="webkit">
  <meta name="force-rendering" content="webkit">
  <!-- force edge on IE -->
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="msapplication-tap-highlight" content="no"/>
  <!-- force full screen on some browser -->
  <meta name="full-screen" content="yes">
  <meta name="x5-fullscreen" content="true"/>
  <meta name="360-fullscreen" content="true"/>
  <!-- force screen orientation on some browser -->
  <meta name="screen-orientation" content="portrait"/>
  <meta name="x5-orientation" content="portrait"/>
  <meta name="x5-page-mode" content="app"/>
  <title>Asmr Sim</title>
  <script>
    const xplayPageConfig = {
      gameInfo: {
        id: 'asmr-simulator',
        name: 'Asmr Sim',
        version: '1.0.3',
        orientation: 'portrait',
        origin: location.origin,
        url: './game.html' + location.search,
        icon: './logo.png'
      },
      adConfigs: {
        playIt: {
          frequency: 5000,
        }
      },
      channels: {
        "3": {
          "adConfigKey": "playIt",
          "adControl": {
            "showBanner": false,
            "floatingBanner": false,
            "passiveInterstitial": false,
            "passiveRewardedVideo": false,
            "usingSystemBrowser": false,
            "regionsToPassiveAds": [],
            "regionsToAllowAds": []
          }
        }
      },
      preloadDuration: 5000,
      currentChannel: '3'
    };
  </script>
  <script type="module" crossorigin>
let z=!1,K=!1;const U=500,je=10*1e3,ue=50;let Q=!1,Y=!1,X=!1,m=null,v=null,L=!1;const Ge=t=>{z=t},Je=()=>{K=!0},Ne=t=>(m=t,m),qe=t=>{v=t},ze=t=>{Q=t},Ke=t=>{Y=t},Ue=t=>{console.log("setInAdBlockedRegion",t),L=t},Qe=t=>{X=t},ge=()=>Q||L,fe=()=>Y||L,he=()=>!L&&X,ae=()=>L||Q&&Y&&!X,me=["http://localhost","http://127.0.0.1","http://192.168","https://doxh.net","https://cdn.imagehost.top/"],f=(()=>{const t=new URLSearchParams(window.location.search);return(e,a="")=>{const n=t.get(e);return n===null||n===""?a:n}})();function Ye(t){let e;return me.some(a=>t.indexOf(a)===0)?e=!1:e=f("ad_env")!=="preview",e}const Xe=({targetOrigin:t,gameOrigin:e})=>t===e?!0:me.some(a=>t.startsWith(a)),q=()=>globalThis.innerWidth>globalThis.innerHeight?"landscape":"portrait",Ze=t=>t===q(),et=t=>new Promise(e=>{if(q()===t)e();else{const a=()=>{setTimeout(()=>{q()===t&&(self.removeEventListener("resize",a),e())},0)};self.addEventListener("resize",a)}});function Z(){return window.navigator.onLine===!1}class pe{constructor(){this._promise=new Promise((e,a)=>{this._resolve=e,this._reject=a})}get promise(){return this._promise}get resolve(){return this._resolve}get reject(){return this._reject}}const ye="ðŸš€ -> xyx: ",d=(...t)=>console.log(ye,...t),ne=(...t)=>console.info(ye,...t),be=t=>t.type!=="reward",we=t=>t.type==="reward";let M=[];class ee{constructor(e){this.config=e,this._inited=!1,this._ready=!1,this._initDeferred=new pe,this.initPromise.then(a=>{a&&this.setAsReady(),this._inited=!0})}clearEventStack(){M.length>0&&(M.forEach(e=>{this.sendEvent(e)}),M=[])}setAsReady(){this._ready=!0,this.clearEventStack()}async init(){}generateAdsenseConfig(e){const a={client:e.client,"data-ad-frequency-hint":e.frequencyHint,callback:()=>{throw new Error("callback should be set")}};return e.host&&(a.host=e.host),e.channel&&(a["data-ad-channel"]=e.channel),z||(a["data-adbreak-test"]="on"),a}get ready(){return this._ready}get inited(){return this._inited}get initPromise(){return this._initDeferred.promise}sendEvent(e){console.warn("unimplemented sendEvent",e)}adConfig(e){}adBreak(e){}_passiveAdBreak(e){if(e.type==="reward"){ne(`passive rewarded video name: ${e.name}`),e.beforeReward&&setTimeout(()=>{var a;(a=e.beforeReward)==null||a.call(e,()=>{})},0),e.beforeAd&&setTimeout(e.beforeAd,100),e.adViewed&&setTimeout(e.adViewed,200),e.afterAd&&setTimeout(e.afterAd,300),setTimeout(()=>{e.adBreakDone&&e.adBreakDone({breakFormat:"reward",breakName:e.name||"reward",breakStatus:"viewed",breakType:"reward"})},400);return}ne(`passive interstitial type:${e.type}, name: ${e.name}`),e.beforeAd&&setTimeout(e.beforeAd,0),e.afterAd&&setTimeout(e.afterAd,100),setTimeout(()=>{e.adBreakDone&&e.adBreakDone({breakFormat:"interstitial",breakName:e.name||"interstitial",breakStatus:"viewed",breakType:e.type})},200)}}const tt=t=>{m&&ve()?m.sendEvent(t):M.push(t)},ke=t=>{m&&m.adBreak(t)},ve=()=>!!(m&&m.inited&&m.ready),P=t=>new Promise(e=>{setTimeout(e,t)});function c(t,e=document){const a=e.querySelector(t);if(!a)throw new Error(`${t} not found`);return a}function at(t,e){const a=document.createElement("ins");a.className="adsbygoogle",a.style.display="inline-block",a.style.width="320px",a.style.height=`${ue}px`,a.dataset.adClient=e.client,a.dataset.adSlot=e.slot,t.appendChild(a),(globalThis.adsbygoogle=globalThis.adsbygoogle||[]).push({})}function Ce(t){var a;const e=c("#game-banner");t.showBanner?(t.handleBannerInit(e),document.body.classList.add("body--banner")):(a=e.parentNode)==null||a.removeChild(e),t.floatingBanner&&e.classList.add("game-ad--floating")}const Se=()=>{document.body.classList.add("ad-break-showing")},Pe=()=>{document.body.classList.remove("ad-break-showing")};function Ae(t){let e=0;return function(){const a=Date.now(),n=a-e;return n>=t?(e=a,console.log("intervalGenerator pass",t,n),!0):(console.log("intervalGenerator skip",t,n),!1)}}const Be=new Set;let Te=Ae(45e3);const _e=t=>{Te=Ae(t)},Ee=({adIntention:t,adPosition:e,onShowSuccess:a,onClose:n,onFail:s})=>{let r=!1,o=!1,i=!1,u=!1;const g=()=>{r||o||u||(r=!0,i||(console.log(`interstitial: ${t} call show success for timeout`),setTimeout(()=>{i||u||(console.log(`interstitial: ${t} call closed for timeout`),T({breakStatus:"timeout",breakFormat:"interstitial",breakName:e,breakType:t}))},2e3)),a&&a())},T=y=>{o||(o=!0,n&&n(!0),Be.forEach(D=>D(y)))};if(Te()===!1){console.log(`interstitial: ${t} skip show for interval`),s&&s("Frequency Capping");return}setTimeout(g,1e3);const _={type:t,name:e,beforeAd:()=>{console.log("%c Interstitial AD BeforeAd","color: #0000FF;font-size: 12px;"),i=!0,Se(),g()},adBreakDone:y=>{Pe(),u=!0,console.log(`%c Interstitial AD adBreakDone for type: ${t}`,"color: #0000FF;font-size: 12px;",y),!o&&(y.breakStatus==="viewed"?T(y):s&&s(y.breakStatus))}};t!=="preroll"&&(_.afterAd=()=>{console.log("%c Interstitial AD AfterAd","color: #FFA500;font-size: 12px;")}),ke(_)},nt=t=>{Be.add(t)},st=()=>(globalThis.adsbygoogle=globalThis.adsbygoogle||[],{adBreak:a=>{globalThis.adsbygoogle.push(a)},adConfig:a=>{globalThis.adsbygoogle.push(a)}});function rt(t){const e=document.createElement("script");e.type="text/javascript",e.async=!0,e.crossOrigin="anonymous",t["data-adbreak-test"]==="on"&&e.setAttribute("data-adbreak-test","on"),e.setAttribute("data-ad-frequency-hint",t["data-ad-frequency-hint"]),t["data-ad-channel"]&&e.setAttribute("data-ad-channel",t["data-ad-channel"]);let a=`https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=${t.client}`;t.host&&(a+=`&host=${t.host}`),e.src=a,e.onload=()=>{e.onload=null,t.callback()},document.body.appendChild(e)}class ot extends ee{constructor(e){super(e),this.sdk=st(),this.adsenseConfig=this.generateAdsenseConfig(e.adConfig)}_handleSDKReady(){console.log("adsense sdk ready"),this._initDeferred.resolve(!0),this.setAsReady(),_e(0),this.adConfig({preloadAdBreaks:"on",sound:"on",onReady:()=>{Ee({adIntention:"preroll",adPosition:"loading"})}})}async init(){if(Ce({showBanner:he(),floatingBanner:this.config.adControl.floatingBanner,handleBannerInit:a=>{at(a,{client:this.config.adConfig.client,slot:this.config.adConfig.bannerSlot})}}),Z()){await P(0),this._initDeferred.resolve(!1);return}setTimeout(()=>this._initDeferred.resolve(!1),U);const e=new pe;return this.adsenseConfig.callback=e.resolve,ae()||(rt(this.adsenseConfig),e.promise.then(()=>this._handleSDKReady())),e.promise}adConfig(e){ae()||!this.ready?setTimeout(()=>{e.onReady&&e.onReady()},0):this.sdk.adConfig(e)}adBreak(e){if(e.type==="reward"&&fe()){this._passiveAdBreak(e);return}if(e.type!=="reward"&&ge()){this._passiveAdBreak(e);return}this.sdk.adBreak(e)}}const Le=new Set,it=({onShowSuccess:t,onClosed:e,onFail:a,adPosition:n})=>{ke({type:"reward",name:n,beforeAd:()=>{console.log("%c Reward AD BeforeAd","color: #0000FF;font-size: 14px;"),Se(),t&&t()},afterAd:()=>{Pe(),console.log("%c Reward AD AfterAd","color: #FFA500;font-size: 14px;")},beforeReward:s=>{console.log("%c Reward AD BeforeReward","color: #FFA500;font-size: 14px;"),s()},adDismissed:()=>{e&&e(!0)},adViewed:()=>{e&&e(!1)},adBreakDone:s=>{console.log("%c Reward AD adBreakDone:","color: #0000FF;font-size: 12px;",s);const r=s.breakStatus;r==="viewed"||r==="dismissed"||a&&a(r),Le.forEach(o=>o(s))}})},lt=t=>{Le.add(t)},De=(t,e)=>Math.floor(Math.random()*(e-t+1))+t,se=(t,e)=>{const a=[],n=Math.floor(t/e*.3),s=Math.floor(t/e*1.7);let r=t;for(let o=0;o<e;o++){const i=De(n,Math.min(s,r));a.push(i),r-=i}return a},W=(t,e,a)=>{t.start=e,Ie(t,a)},dt=t=>{t.progress=t.total},Ie=(t,e)=>{t.progress=Math.min(t.total,(e-t.start)/t.duration*t.total)},ct=(t,e)=>e>=t.start&&e<=t.start+t.duration;class xe{constructor(){this.MinPreloadDuration=2e3,this.TotalProgress=100,this.started=!1,this.completed=!1,this.progressCallbacks=[],this.segmentProgressCallbacks=[],this.completedCallbacks=[],this.totalDuration=0,this.currentSegmentIndex=0,this.inQuickFinish=!1,this.startTime=0,this.segments=[],this.quickFinishSegment={start:0,total:0,duration:300,progress:0},this.isAbleToQuickFinish=()=>!1}isMatchedMinDuration(){return Date.now()-this.startTime>=this.MinPreloadDuration}getProgress(){return this.segments.reduce((e,a)=>e+a.progress,0)+this.quickFinishSegment.progress}handleComplete(){this.completed=!0,this.progressCallbacks.forEach(e=>e(1)),this.completedCallbacks.forEach(e=>e())}getCurrentSegment(){let e;const a=Date.now();return this.inQuickFinish&&(this.isMatchedMinDuration()||this.isAbleToQuickFinish())?(d("preload: start quick finish"),e=this.quickFinishSegment,e.start===0&&(e.total=this.TotalProgress-this.getProgress(),W(e,a,a))):e=this.segments[this.currentSegmentIndex],e}animate(){if(this.completed)return;const e=Date.now(),a=this.getCurrentSegment();if(ct(a,e))Ie(a,e),this.handleSegmentProgressChange(a.progress/a.total);else{if(this.inQuickFinish){this.handleSegmentProgressChange(1),this.handleComplete();return}if(dt(a),this.currentSegmentIndex++,this.currentSegmentIndex>=this.segments.length){this.handleComplete(),this.handleSegmentProgressChange(1);return}this.handleSegmentProgressChange(0),W(this.segments[this.currentSegmentIndex],a.start+a.duration,e)}const n=Math.min(1,this.getProgress()/this.TotalProgress);this.progressCallbacks.forEach(s=>s(n)),requestAnimationFrame(()=>this.animate())}startPreload(e){if(this.started)return;this.started=!0,this.totalDuration=e,this.startTime=Date.now();const a=(e-5e3)/1e3|0,n=Math.max(3,a+3),s=Math.max(8,a+8),r=De(n,s),o=se(this.TotalProgress,r);se(this.totalDuration,r).forEach((i,u)=>{this.segments.push({start:0,total:o[u],duration:i,progress:0})}),W(this.segments[0],this.startTime,this.startTime),this.animate()}finishPreload(){setTimeout(()=>{this.inQuickFinish=!0},300)}handleSegmentProgressChange(e){this.segmentProgressCallbacks.forEach(a=>a(e))}onPreloadProgress(e){this.progressCallbacks.push(e)}onSegmentProgress(e){this.segmentProgressCallbacks.push(e)}onPreloadCompleted(e){this.completedCallbacks.push(e)}}const B=new xe;B.isAbleToQuickFinish=()=>!!(m&&m.inited);function ut(t){B.startPreload(t)}function gt(){B.finishPreload()}function ft(t){B.onPreloadProgress(t)}function ht(t){B.onSegmentProgress(t)}function Re(t){B.onPreloadCompleted(t)}var l=(t=>(t.EventGameStart="game_start",t.EventLoadingBegin="loading_begin",t.EventLoadingEnd="loading_end",t.EventLoadGoogleAdScriptStart="load_adsbygoogle",t.EventLoadGoogleAdScriptComplete="loaded_adsbygoogle",t.EventTurnScreenShow="turn_screen",t.EventHorizontalScreen="horizontal",t.EventEnterMainScene="game_page",t.EventLevelStart="level_begin",t.EventLevelEnd="level_end",t.EventLevelReward="level_reward",t.EventLevelNext="level_next",t.EventRewardClick="reward_click",t.EventDetailPageView="detail_page_view",t.EventPlayerPageView="player_page_view",t.EventDetailStartButtonAppear="detail_start_button_appear",t.EventDetailStartButtonClick="detail_start_button_click",t.EventDetailAutoJumpPlayer="detail-auto-jump-player",t.EventPlayerBackButtonClick="player_back_button_click",t))(l||{});const mt=["loading_end","game_page"],te=t=>{switch(t.name){case l.EventLoadingEnd:case l.EventEnterMainScene:K||(gt(),Je());break}tt(t)},$e=t=>{const e=t.firstElementChild;return document.body.appendChild(t),e},re=()=>globalThis.innerHeight,S=(t,e)=>{t&&(t.textContent=e||"")},pt=t=>{t&&(t.style.display="none")},yt=t=>{t&&(t.style.display="block")},bt=t=>{t&&(t.style.opacity="1")},wt=t=>{t&&(t.style.opacity="0")},C=(t,e)=>{t&&t.classList.add(e)},j=(t,e)=>{t&&t.classList.remove(e)},Fe=t=>e=>t.querySelector(e),kt=t=>e=>t.querySelectorAll(e);let I=null,x,R,$;const vt=({message:t,duration:e})=>{const a=e!==0?3e3:1500;console.debug("showToast: ",t);const n=document.createElement("div");C(n,"toast");const s=document.createElement("span");S(s,t),n.appendChild(s),document.body.appendChild(n),I&&(document.body.removeChild(I),x&&clearTimeout(x),R&&clearTimeout(R),$&&clearTimeout($)),x=setTimeout(function(){bt(n),x=0},100),R=setTimeout(function(){wt(n),R=0,$=setTimeout(function(){document.body.removeChild(n),I=null,$=0},400)},a),I=n},Ct=({title:t,content:e,confirmText:a,cancelText:n,showCancel:s=!0})=>{const o=c("#tpl-dialog").content.cloneNode(!0),i=Fe(o),u=`dialog-buttons-${s?"2":"1"}`;C(i(".dialog"),u),S(i(".dialog-title"),t),S(i(".dialog-text"),e);const g=i(".dialog-button[data-action=cancel]");return g&&(s?S(g,n):pt(g)),S(i(".dialog-button[data-action=confirm]"),a),o};let w=null,oe=!1;const St=t=>{const{showCancel:e=!0,success:a,complete:n}=t;w&&document.body.removeChild(w),oe||(C(document.documentElement,"ios"),oe=!0);const s=Ct({...t,showCancel:e});w=$e(s);const r=Fe(w),o=r(".dialog-backdrop"),i=r(".dialog"),u=kt(w)(".dialog-button");if(!o||!i||!u||!w)throw new Error("dialog not found");const g=u.item(u.length-1),T=()=>{j(o,"backdrop-in"),j(i,"modal-in"),C(i,"modal-out")},_=()=>{w&&document.body.removeChild(w),w=null},y=b=>{C(b,"active-state")},D=b=>{j(b,"active-state")};if(g.addEventListener("touchstart",()=>y(g)),g.addEventListener("touchend",()=>D(g)),g.addEventListener("click",()=>{T(),setTimeout(()=>{_(),a&&a({confirm:!0,cancel:!1}),n&&n()},400)}),e){const b=u.item(0);b.addEventListener("touchstart",()=>y(b)),b.addEventListener("touchend",()=>D(b)),b.addEventListener("click",()=>{T(),setTimeout(()=>{_(),a&&a({confirm:!1,cancel:!0}),n&&n()},400)})}C(o,"backdrop-in"),yt(i),C(i,"modal-in")},Pt=t=>{const a=c("#tpl-loading").content.cloneNode(!0);return S(a.querySelector(".loading-text"),t),a};let A=null;const At=t=>{const{title:e,success:a,fail:n,complete:s}=t;console.debug(`loading: ${e}`);try{A&&document.body.removeChild(A);const r=Pt(e);A=$e(r),setTimeout(()=>{a&&a(),s&&s()},100)}catch{setTimeout(()=>{n&&n(),s&&s()},100)}},Bt=()=>{A&&(document.body.removeChild(A),A=null)};function Tt({data:t,callCallback:e}){const a=()=>e(t.onSuccess),n=r=>e(t.onFail,r),s=r=>e(t.onClosed,r);switch(t.action){case"showAd":if(!ve()){n("sdk not ready");return}if(Z()){n("offline");return}switch(t.adType){case"interstitial":Ee({adIntention:t.adIntention,adPosition:t.adPosition,onShowSuccess:a,onClose:s,onFail:n});break;case"banner":a();break;case"reward":it({adPosition:t.adPosition,onShowSuccess:a,onClosed:s,onFail:n});break;default:n(`unknown adType: ${t.adType}`)}break;case"hideAd":t.adType==="banner"&&a();break;case"sendEvent":te({name:t.eventName,...t.param||{}});break;case"showToast":vt(t.param);break;case"showLoading":At({...t.param,success:()=>e(t.param.success),fail:()=>e(t.param.fail),complete:()=>e(t.param.complete)});break;case"hideLoading":Bt();break;case"showDialog":St({...t.param,success:r=>e(t.param.success,r),fail:()=>e(t.param.fail),complete:()=>e(t.param.complete)});break;default:n(`unknown action: ${t.action}`)}}const _t=({gameOrigin:t})=>{globalThis.addEventListener("message",e=>{if(console.log("gameIndex onMessage: ",e),!Xe({targetOrigin:e.origin,gameOrigin:t})||!e.source)return;const a=e.data,n=e.source;if(!a||!a.action)return;Tt({data:a,callCallback:(r,...o)=>n.postMessage({action:"call-callback",params:[r,...o]},e.origin)})},!1)};function Et(t){const e=c(".game-main");e.classList.remove("game-main--portrait","game-main--landscape"),document.body.classList.remove("body--portrait","body--landscape"),e.classList.add(`game-main--${t}`),document.body.classList.add(`body--${t}`),Ze(t)||te({name:l.EventTurnScreenShow})}const Lt=({gameIcon:t,gameName:e})=>{const a=c("#loading"),n=c("img",a),s=c("h1",a);n.src=t,S(s,e)};function Dt(t){return fetch(t).then(e=>{if(e.ok)return e.text();throw new Error(`HTTP error: ${e.status}`)}).catch(e=>{throw console.error(`Could not fetch ${t}:`,e),e})}const It=t=>t.replace(/\s/g," ").trim();async function Me(t){let e=await Dt(t);return JSON.parse(It(e))}const xt=async()=>{const e=await Me("https://api.seeip.org/geoip");if(e.country_code)return e.country_code;throw new Error(`Failed to get country code for ip ${e.ip} with seeip`)},Rt=async()=>{const e=await Me("https://api.ip.sb/geoip");if(e.country_code)return e.country_code;throw new Error(`Failed to get country code for ip ${e.ip} with ip.sb`)},G="xyx-country-code",$t=async()=>{const t=localStorage.getItem(G);if(t)return t;try{const e=await Rt();return e&&localStorage.setItem(G,e),e}catch(e){console.error("Failed to get country code with taobao:",e)}try{const e=await xt();return e&&localStorage.setItem(G,e),e}catch(e){console.error("Failed to get country code with myip:",e)}return null},Ft=async({regionsToPassiveAds:t,regionsToAllowAds:e,currentCountryCode:a})=>{if(t.length<=0&&e.length<=0)return!1;let n=a;return n||(n=await $t()),n===null||n.length===0?!1:(n=n.toUpperCase(),e.length>0?!e.map(o=>o.toUpperCase()).includes(n):t.map(r=>r.toUpperCase()).includes(n))};var p=(t=>(t.Hippoo="0",t.Huawei="1",t.WebSite="2",t.PlayIt="3",t.Flat="4",t))(p||{});Object.values(p).reduce((t,e)=>(t[e]={$ref:"GameChannelInfo"},t),{}),Object.values(p);Object.values(p).reduce((t,e)=>(t[e]={$ref:"ChannelInfo"},t),{}),Object.values(p);function Mt(t){return t.split(".").slice(-2).join(".")}var O=(t=>(t.chayumingwang="chayumingwang.com",t.heygame="heygame.club",t.justgame="justgame.win",t.fun4game="fun4game.club",t.justforgames="justforgames.win",t))(O||{});const Ot=p.WebSite,Vt={[O.heygame]:p.PlayIt,[O.fun4game]:p.WebSite,[O.justgame]:p.Flat};function J(t){const e=Mt(t);return Vt[e]||Ot}function Ht(t){const e=t.split(".");if(e.length!==3)return J(t);const a=e[0];if(!/-\d$/.test(a))return J(t);const n=a.slice(-1);return Object.values(p).includes(n)?n:J(t)}var Oe=(t=>(t.Beauty="Beauty",t.Casual="Casual",t.Puzzle="Puzzle",t.Action="Action",t.Car="Car",t.Sports="Sports",t))(Oe||{});Object.values(Oe);function Wt(t){return t.icon||`/game/${t.gameId}/${t.version}/logo.png`}function jt(t){return t.path?t.path:`/game/${t.gameId}/${t.version}/index.html`}const Gt=()=>globalThis.webkit&&globalThis.webkit.messageHandlers&&globalThis.webkit.messageHandlers.cordova_iab,Jt=t=>t.action==="call-callback",V=new Map;let Nt=0;const h=t=>{if(!t)return;const e=Nt++;return V.set(e,t),e},Ve=(t,e,...a)=>{var n;V.has(t)&&((n=V.get(t))==null||n.call(null,e,...a),V.delete(t))},N=t=>{Gt()?globalThis.webkit.messageHandlers.cordova_iab.postMessage(JSON.stringify(t)):setTimeout(()=>{if(t.onFail)Ve(t.onFail,"not in IAB");else throw new Error("not in IAB")},0)};globalThis.crossFrameMessageHandler=t=>{Jt(t)&&Ve(t.params[0],t.params[1],...t.params.slice(2))};class qt extends ee{constructor(e){super(e)}async init(){if(Z()){await P(0),this._initDeferred.resolve(!1);return}setTimeout(()=>this._initDeferred.resolve(!1),U),N({action:"init",onSuccess:h(()=>{this._initDeferred.resolve(!0),this.setAsReady()}),onFail:h(()=>{this._initDeferred.resolve(!1)})})}adConfig(e){setTimeout(()=>{e.onReady&&e.onReady()},0)}adBreak(e){if(we(e)){this._showReward(e);return}if(be(e)){this._showInterstitial(e);return}throw new Error(`unsupported ad break type: ${e.type}`)}_showInterstitial(e){if(ge()){this._passiveAdBreak(e);return}const a={action:"show-ad",option:{type:e.type,name:e.name,beforeAd:h(e.beforeAd),afterAd:h(e.afterAd),adBreakDone:h(e.adBreakDone)}};N(a)}_showReward(e){if(fe()){this._passiveAdBreak(e);return}const a={action:"show-ad",option:{type:e.type,name:e.name,beforeAd:h(e.beforeAd),afterAd:h(e.afterAd),beforeReward:h(()=>{var n;(n=e.beforeReward)==null||n.call(e,()=>{})}),adDismissed:h(e.adDismissed),adViewed:h(e.adViewed),adBreakDone:h(e.adBreakDone)}};N(a)}}let ie=!1,le=!1;const zt=c("#progress"),E=c("#loading"),Kt=c("#gameFrame"),de=c("#segmentGrogress"),Ut=502.65,Qt="hidden",He="complete";function Yt({duration:t}){ie||(ie=!0,ut(t),te({name:l.EventLoadingBegin}),E.classList.remove(He))}function Xt({gameUrl:t}){le||(le=!0,Kt.src=t)}ft(t=>{const e=Ut*(1-t);zt.setAttribute("stroke-dashoffset",`${e}`)});Re(()=>{const t=()=>{E.removeEventListener("transitionend",t),E.classList.add(Qt)};E.addEventListener("transitionend",t),E.classList.add(He)});ht(t=>{t===0&&(de.style.backgroundColor=`hsl(${Math.random()*360}, 60%, 50%)`),de.style.width=`${t*100}%`});function Zt({orientation:t,showBanner:e,floatingBanner:a}){const n=c(".game-content");!e||a||t==="landscape"?n.style.height=`${re()}px`:n.style.height=`${re()-ue}px`}function ce(t){try{return JSON.parse(t)}catch{return null}}let H=[];function ea(){H.forEach(([t,e])=>{gtag("event",t,e)}),H=[]}function We(t,e){if(typeof gtag>"u"){H.push([t,e]);return}H.length>0&&ea(),gtag("event",t,e)}function ta(t){const{name:e,...a}=t;We(e,a)}function k(t,e={}){We(t,{game_name:v==null?void 0:v.name,game_id:v==null?void 0:v.id,...e})}function aa(t){const e=t.name;switch(e){case l.EventLevelStart:k("level_start",{level_name:`level-${t.levelNum}`});break;case l.EventLevelEnd:k("level_end",{level_name:`level-${t.levelNum}`,success:t.result==="Pass"});break;case l.EventLevelReward:k(l.EventLevelReward,{withReward:t.withReward===1});break;case l.EventLevelNext:k(l.EventLevelNext,{level_name:`level-${t.levelNum}`});break;case l.EventRewardClick:k(l.EventRewardClick,{scene_name:t.sceneName});break;case l.EventGameStart:k(l.EventGameStart,{game_name:t.title});break;default:k(e)}}const na="WebViewJavascriptBridgeReady";class sa extends ee{constructor(e){super(e),this.sdk=globalThis.WebViewJavascriptBridge}async init(){_e(45e3),globalThis.WebViewJavascriptBridge?(d("WebViewJavascriptBridge already exists"),await P(0),this._initDeferred.resolve(!0),this.setAsReady()):(d("waiting for WebViewJavascriptBridge"),setTimeout(()=>{this.ready||(d("WebViewJavascriptBridge connect timeout"),this._initDeferred.resolve(!1))},U),document.addEventListener(na,()=>{d("WebViewJavascriptBridge ready"),this._initDeferred.resolve(!0),this.setAsReady(),d("init WebViewJavascriptBridge"),globalThis.WebViewJavascriptBridge.init((a,n)=>{d("Received message:",a),n({"Javascript Responds":"Wee!"})})},!1)),Ce({showBanner:!1,floatingBanner:!1,handleBannerInit:()=>{}});const e=new xe;e.isAbleToQuickFinish=()=>this.ready,e.onPreloadProgress(a=>{const n=Math.floor(a*100);d("fake onProgress",n),this.ready&&window.WebViewJavascriptBridge.callHandler("onProgress",{progress:n},()=>{})}),e.onPreloadCompleted(()=>{d("fake onProgress",100),this.ready&&window.WebViewJavascriptBridge.callHandler("onProgress",{progress:100},()=>{})}),e.startPreload(3e3),this.initPromise.then(()=>{e.finishPreload()})}adConfig(e){setTimeout(()=>{e.onReady&&e.onReady()},0)}adBreak(e){if(we(e)){this._showReward(e);return}if(be(e)){this._showInterstitial(e);return}throw new Error(`unsupported ad break type: ${e.type}`)}async _showInterstitial(e){await P(0),e.beforeAd&&e.beforeAd(),globalThis.WebViewJavascriptBridge.callHandler("showInterstitial",null,a=>{const n=ce(a);if(n===null){e.afterAd&&e.afterAd(),setTimeout(()=>{e.adBreakDone&&e.adBreakDone({breakFormat:"interstitial",breakName:e.name||"interstitial",breakStatus:"error",breakType:e.type})},0);return}const{suc:s}=n;d(`showInterstitial: res: ${a}, typeof res: ${typeof a}, data: `,n,"typeof data",typeof n),e.afterAd&&e.afterAd(),setTimeout(()=>{e.adBreakDone&&e.adBreakDone({breakFormat:"interstitial",breakName:e.name||"interstitial",breakStatus:s?"viewed":"error",breakType:e.type})},0)})}async _showReward(e){await P(0),e.beforeReward&&e.beforeReward(()=>{e.beforeAd&&e.beforeAd(),globalThis.WebViewJavascriptBridge.callHandler("showReward",null,a=>{const n=ce(a);if(n===null){e.afterAd&&e.afterAd(),setTimeout(()=>{e.adBreakDone&&e.adBreakDone({breakFormat:"reward",breakName:e.name||"reward",breakStatus:"error",breakType:e.type})},0);return}const{suc:s,close:r,reward:o}=n;d(`showReward: res: ${a}, typeof res: ${typeof a}, data: `,n,"typeof data",typeof n);let i="error";o?(e.adViewed&&e.adViewed(),i="viewed"):s&&r&&(e.adDismissed&&e.adDismissed(),i="dismissed"),setTimeout(()=>{e.afterAd&&e.afterAd()},0),setTimeout(()=>{e.adBreakDone&&e.adBreakDone({breakFormat:"reward",breakName:e.name||"reward",breakStatus:i,breakType:e.type})},30)})})}sendEvent(e){aa(e)}}function F(){let a=0;const n=c("#gameFrame"),s=setInterval(()=>{if(a>=5){if(document.activeElement===n){clearInterval(s);return}a>=10&&clearInterval(s)}a++,n.blur(),setTimeout(()=>{n.focus(),console.log("focus game frame",a)},100)},300)}function ra(){Re(F),nt(F),lt(F),document.addEventListener("fullscreenchange",()=>{const t=c("#gameFrame");document.fullscreenElement&&document.fullscreenElement===t&&(document.exitFullscreen(),F())})}async function oa(){let t;xplayPageConfig.forcePreview?t=!1:t=Ye(xplayPageConfig.gameInfo.origin),Ge(t);let e=xplayPageConfig.currentChannel||Ht(location.host);!t&&f("channel")&&(e=f("channel")),d("channel",e);const a=xplayPageConfig.channels[e].adControl,n=xplayPageConfig.channels[e].adConfigKey;f("banner","0").split("")[0]==="1"&&(a.showBanner=!0),f("banner","0").split("")[1]==="1"&&(a.floatingBanner=!0);const s={...xplayPageConfig,gameInfo:{...xplayPageConfig.gameInfo,name:f("name")||xplayPageConfig.gameInfo.name,id:f("id")||xplayPageConfig.gameInfo.id,version:f("version")||xplayPageConfig.gameInfo.version,orientation:f("orientation")||xplayPageConfig.gameInfo.orientation,url:xplayPageConfig.gameInfo.url||"",icon:xplayPageConfig.gameInfo.icon||""},forcePreview:xplayPageConfig.forcePreview||!1,currentCountryCode:xplayPageConfig.currentCountryCode||f("country"),currentChannel:e},{gameInfo:r}=s;if(!r.url){const i=f("url");i?r.url=i:r.url=jt({gameId:r.id,version:r.version})}if(!r.icon){const i=f("icon");i&&(r.icon=i),r.icon=Wt({gameId:r.id,version:r.version})}qe(r),ta({name:l.EventPlayerPageView,game_id:r.id,game_name:r.name}),d("xplay-bridge: 4.6.1 start"),ze(a.passiveInterstitial),Ke(a.passiveRewardedVideo),Qe(a.showBanner),Lt({gameName:r.name,gameIcon:r.icon}),Et(r.orientation),_t({gameOrigin:r.origin}),ra(),Ue(await Ft({regionsToPassiveAds:a.regionsToPassiveAds,regionsToAllowAds:a.regionsToAllowAds,currentCountryCode:s.currentCountryCode}));let o;switch(n){case"adsense":o=new ot({adConfig:s.adConfigs.adsense,gameInfo:r,adControl:a});break;case"crossFrame":o=new qt(s.adConfigs.crossFrame);break;case"playIt":o=new sa(s.adConfigs.playIt);break;default:throw new Error(`Unknown adConfigKey: ${n}`)}if(d("sdk",n),Ne(o),o.init(),Yt({duration:s.preloadDuration}),await et(r.orientation),Zt({showBanner:he(),floatingBanner:a.floatingBanner,orientation:r.orientation}),await o.initPromise,Xt({gameUrl:r.url}),await P(je),!K&&!z)throw new Error(`Game loading not finished in 10s, ${mt.join(" or ")} potentially not sent?`)}oa();

  </script>
  <style>
*{padding:0;margin:0}html,body{color:#fff;overflow:hidden;touch-action:none;-ms-touch-action:none;width:100%;height:100%}.game-main{width:100vw}.game-content{position:relative;background-color:#000}.game-content iframe{position:absolute;top:0;left:0;width:100%;height:100%;border:none}.game-ad{height:50px;overflow:hidden;display:flex;justify-content:center;align-items:center;background-color:#fff;position:fixed;bottom:0;z-index:100}.game-main--portrait .game-ad{width:100vw}.game-main--landscape .game-ad,.game-ad--floating{width:320px;left:50%;transform:translate(-50%)}.game-main .btn-back{position:absolute;z-index:40;top:14px;left:0;width:50px;height:50px;background-image:url(/btn-bg.png);background-size:contain;display:flex;justify-content:center;align-items:center;touch-action:none;opacity:.5}.game-main .btn-back.active{opacity:1}.game-main .btn-back svg{width:50%;height:50%}#loading{position:absolute;width:100%;height:100%;top:0;left:0;background-color:#000;z-index:40;display:flex;justify-content:center;align-items:center;flex-direction:column}#loading.complete{top:100vh;opacity:0;transition-property:opacity,top;transition-duration:.3s;transition-timing-function:ease-out}#loading.hidden{display:none}#loading .game-icon{width:200px;height:200px;position:relative;top:0;animation:bounce 3s ease-in-out}@keyframes bounce{0%{transform:translateY(-500px);opacity:0}60%{transform:translateY(0);opacity:1}80%{transform:translateY(-30px)}90%{transform:translateY(0)}95%{transform:translateY(-15px)}to{transform:translateY(0)}}#loading img{width:152px;height:152px;border-radius:50%;overflow:hidden;position:absolute;top:24px;left:24px;background-color:#b2b2b2}#loading h1{font-family:serif;text-align:center;font-size:24px}#orientation{position:absolute;width:100%;height:100%;top:0;left:0;background-color:#000;z-index:150;display:none;justify-content:center;align-items:center}#orientation div{background-image:url(/rotate.png);background-size:contain;aspect-ratio:289/282;width:25vw;display:block;transform:rotate(90deg)}.game-main--landscape #orientation div{transform:rotate(0)}@media (orientation: portrait){.game-main--landscape #orientation{display:flex}}@media (orientation: landscape){.game-main--portrait #orientation{display:flex}}body.ad-break-showing .game-main #orientation{display:none!important}.toast{position:absolute;z-index:9999;left:0;bottom:20%;color:#fff;font-size:4vmin;transition:opacity .3s ease 0s;opacity:1;width:100%;text-align:center;pointer-events:none;font-family:sans-serif}.toast span{display:inline-block;max-width:80vw;background:#000000ad;padding:.2em 1em .22em;border-radius:1em}*{-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none}:root{--f7-theme-color: #007aff;--f7-theme-color-shade: #0066d6;--f7-theme-color-tint: #298fff;--f7-device-pixel-ratio: 1;--f7-font-family: -apple-system,SF Pro Text,SF UI Text,system-ui,Helvetica Neue,Helvetica,Arial,sans-serif;--f7-dialog-box-shadow: none;--f7-dialog-width: 270px;--f7-dialog-inner-padding: 16px;--f7-dialog-text-color: #000;--f7-dialog-text-align: center;--f7-dialog-font-size: 14px;--f7-dialog-title-text-color: inherit;--f7-dialog-title-font-size: 18px;--f7-dialog-title-font-weight: 600;--f7-dialog-title-line-height: inherit;--f7-dialog-button-font-size: 17px;--f7-dialog-button-height: 44px;--f7-dialog-button-letter-spacing: 0;--f7-dialog-button-font-weight: 400;--f7-dialog-button-text-transform: none;--f7-dialog-button-text-color: var(--f7-theme-color);--f7-dialog-button-text-align: center;--f7-dialog-button-pressed-bg-color: rgba(0, 0, 0, .1);--f7-dialog-bg-color: rgba(255, 255, 255, .95);--f7-dialog-bg-color-rgb: 255,255,255;--f7-dialog-border-divider-color: rgba(0, 0, 0, .2);--f7-dialog-border-radius: 13px}@media (-webkit-min-device-pixel-ratio: 2),(min-resolution:2dppx){:root{--f7-device-pixel-ratio:2 }}@media (-webkit-min-device-pixel-ratio: 3),(min-resolution:3dppx){:root{--f7-device-pixel-ratio:3 }}.ios{position:absolute;left:0;top:0;width:100vw;height:100vh}.dialog-backdrop{width:100%;height:100%;background:#0006;z-index:13000;visibility:hidden;opacity:0;transition-duration:.4s;transition-property:opacity,visibility}.backdrop-in{visibility:visible;opacity:1}.dialog{position:absolute;z-index:13500;left:50%;margin-top:0;top:65%;overflow:hidden;opacity:0;transform:translate3d(0,-50%,0) scale(1.185);transition-property:transform,opacity;display:none;transition-duration:.4s;box-shadow:var(--f7-dialog-box-shadow);width:var(--f7-dialog-width);margin-left:calc(-1 * var(--f7-dialog-width)/ 2);border-radius:var(--f7-dialog-border-radius);text-align:var(--f7-dialog-text-align);color:var(--f7-dialog-text-color);font-size:var(--f7-dialog-font-size);font-family:var(--f7-font-family);background:var(--f7-dialog-bg-color);will-change:transform,opacity}.dialog.modal-in{opacity:1;transform:translate3d(0,-50%,0) scale(1)}.dialog-inner{position:relative;padding:var(--f7-dialog-inner-padding)}.dialog-title{color:var(--f7-dialog-title-text-color);font-size:var(--f7-dialog-title-font-size);font-weight:var(--f7-dialog-title-font-weight);line-height:var(--f7-dialog-title-line-height)}.dialog-buttons{position:relative;display:flex}.dialog-button{box-sizing:border-box;overflow:hidden;position:relative;white-space:nowrap;text-overflow:ellipsis;color:var(--f7-dialog-button-text-color);font-size:var(--f7-dialog-button-font-size);height:var(--f7-dialog-button-height);line-height:var(--f7-dialog-button-height);letter-spacing:var(--f7-dialog-button-letter-spacing);text-align:var(--f7-dialog-button-text-align);font-weight:var(--f7-dialog-button-font-weight);text-transform:var(--f7-dialog-button-text-transform);display:block;cursor:pointer;-webkit-user-select:none;user-select:none}.dialog-button.active-state{background-color:var(--f7-dialog-button-pressed-bg-color)}.dialog-no-buttons .dialog-buttons{display:none}.ios .dialog.modal-out{transform:translate3d(0,-50%,0) scale(1)}.ios .dialog-inner{border-radius:var(--f7-dialog-border-radius) var(--f7-dialog-border-radius) 0 0}.ios .dialog-inner:after{content:"";position:absolute;background-color:var(--f7-dialog-border-divider-color);display:block;z-index:15;top:auto;right:auto;bottom:0;left:0;height:1px;width:100%;transform-origin:50% 100%;transform:scaleY(calc(1 / var(--f7-device-pixel-ratio)))}.ios .dialog-title+.dialog-text{margin-top:5px}.ios .dialog-buttons{height:44px;justify-content:center}.ios .dialog-button{width:100%;padding:0 5px;-webkit-box-flex:1;-ms-flex:1}.ios .dialog-button:after{content:"";position:absolute;background-color:var(--f7-dialog-border-divider-color);display:block;z-index:15;top:0;right:0;bottom:auto;left:auto;width:1px;height:100%;transform-origin:100% 50%;transform:scaleX(calc(1 / var(--f7-device-pixel-ratio)))}.ios .dialog-button:first-child{border-radius:0 0 0 var(--f7-dialog-border-radius)}.ios .dialog-button:last-child{border-radius:0 0 var(--f7-dialog-border-radius) 0}.ios .dialog-button:last-child:after{display:none!important}.ios .dialog-button:first-child:last-child{border-radius:0 0 var(--f7-dialog-border-radius) var(--f7-dialog-border-radius)}.ios .dialog-button.dialog-button-bold{font-weight:500}.ios .dialog-button[class*=color-]{--f7-dialog-button-text-color: var(--f7-theme-color) }.ios .dialog-buttons-vertical .dialog-buttons{height:auto}.ios .dialog-buttons-vertical .dialog-button{border-radius:0}.ios .dialog-buttons-vertical .dialog-button:after{content:"";position:absolute;background-color:var(--f7-dialog-border-divider-color);display:block;z-index:15;top:auto;right:auto;bottom:0;left:0;height:1px;width:100%;transform-origin:50% 100%;transform:scaleY(calc(1 / var(--f7-device-pixel-ratio)))}.ios .dialog-buttons-vertical .dialog-button:last-child{border-radius:0 0 var(--f7-dialog-border-radius) var(--f7-dialog-border-radius)}.ios .dialog-buttons-vertical .dialog-button:last-child:after{display:none!important}.ios .dialog-no-buttons .dialog-inner{border-radius:var(--f7-dialog-border-radius)}.ios .dialog-no-buttons .dialog-inner:after{display:none!important}.loading{position:absolute;left:0;top:0;z-index:999;right:0;bottom:0;background:#0000004d}.loading .loading-inner{bottom:20%;left:0;z-index:999;text-align:center;width:100%;position:absolute}.loading .loading-text{font-size:4vmin;font-family:sans-serif}.xyx-loading-svg{animation:xyx-loading-svg-rotate 1.4s ease-in infinite;width:10vmin;height:10vmin}@keyframes xyx-loading-svg-rotate{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.loading-info{position:absolute;bottom:90px;text-align:center}.loading-tips{margin-bottom:1em}.loading-progress{border:1px solid #fff;height:1em;width:80vmin;overflow:hidden}.loading-progress__inner{height:100%;width:10%;background-color:#1e90ff}.body--landscape .loading-info{bottom:10px}.body--banner #loading{height:calc(100% - 50px)}

  </style>
</head>
<body>
<!-- å¹¿å‘Šä»£ç æœ‰æ—¶å€™ä¼šå¼ºåˆ¶ç»™ .game-main åŠ ä¸Š height: auto!important; -->
<div class="game-main" style="height: auto !important;">
  <div id="orientation"><div></div></div>
  <div id="loading" class="complete">
    <div class="game-info">
      <div class="game-icon">
        <svg width="200" height="200">
            <circle cx="100" cy="100" r="80" stroke-width="10" fill="none" stroke="#ccc" />
            <circle id="progress" cx="100" cy="100" r="80" stroke-width="10" fill="none" stroke="#1e90ff" stroke-dasharray="502.65" stroke-dashoffset="50" transform="rotate(-90, 100, 100)" />
        </svg>
        <img src="./logo.png" />
      </div>
      <h1>Asmr Sim</h1>
    </div>
    <div class="loading-info">
      <div class="loading-tips">Loading... Please wait.</div>
      <div class="loading-progress">
        <div class="loading-progress__inner" id="segmentGrogress"></div>
      </div>
    </div>
  </div>
  <div class="game-content">
    <iframe id="gameFrame" src="" scrolling="none" frameborder="0" width="100%" height="100%"></iframe>
  </div>
  <div class="game-ad" id="game-banner"></div>
</div>
<template id="tpl-dialog">
  <div>
    <div class="dialog-backdrop"></div>
    <div class="dialog">
      <div class="dialog-inner">
        <div class="dialog-title"></div>
        <div class="dialog-text"></div>
      </div>
      <div class="dialog-buttons">
        <div data-action="cancel" class="dialog-button"></div>
        <div data-action="confirm" class="dialog-button dialog-button-bold"></div>
      </div>
    </div>
  </div>
</template>
<template id="tpl-loading">
  <div id="xyx-loading" class="loading">
    <div class="loading-inner">
      <svg class="xyx-loading-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024" fill="#f3ca7e">
        <path d="M512 85.333c235.648 0 426.667 191.019 426.667 426.667S747.648 938.667 512 938.667 85.333 747.648 85.333 512 276.352 85.333 512 85.333zm0 128a298.667 298.667 0 1 0 0 597.333 298.667 298.667 0 0 0 0-597.333z" fill-opacity=".05" />
        <path d="M813.696 813.696c166.613-166.613 166.613-436.779 0-603.392s-436.779-166.613-603.392 0A64 64 0 0 0 300.8 300.8a298.667 298.667 0 1 1 422.4 422.4 64 64 0 0 0 90.496 90.496z" />
      </svg>
      <div class="loading-text"></div>
    </div>
  </div>
</template>
</body>
</html>
